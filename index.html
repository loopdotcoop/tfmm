<!DOCTYPE html>
<html lang="en">
<head>
  <title>Tfmm</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="generator" content="Apage 0.0.22 http://apage.richplastow.com/">
  <style>
    /* ‘Inspect Element’ here, for Apage’s injected CSS */
  </style>

  <script>

//// When the DOM is ready, set up Apage and inject the plugins. 
window.addEventListener('load', function () { (function (d) { 'use strict'; 


//// Declare iterator, length and HTML-reference variables. 
var i, l, $ref


//// Initialize three arrays which are available to all Apage plugins. 
 ,arts      = []
 ,resolvers = []
 ,updaters  = []


//// Like jQuery, but native. 
 ,$  = d.querySelector.bind(d)
 ,$$ = d.querySelectorAll.bind(d)


//// Get a reference to all `<article class="apage">` elements. 
 ,$arts = $$('article.apage')


//// Convert JavaScript’s native `arguments` object to an array. 
 ,getArgs = function (args, offset) {
    return Array.prototype.slice.call(args, offset || 0);
 }


//// `unattribute($ref,'data-apage-','opath'...)` removes data attributes. 
 ,unattribute = function ($ref, prefix) {
    for ( var i=0, suffs=getArgs(arguments,2), l=suffs.length; i<l; i++ ) {
      $ref.removeAttribute(prefix + suffs[i]);
    }
  }


//// Runs each resolver in order. These are added by the plugins, below. 
//// Resolvers are used to map a query to an article. 
 ,resolve = function (query) {
    for (var i=0, l=resolvers.length, backstop, result={}; i<l; i++) {
      result = resolvers[i](query);
      if (result.art) { break; } // `query` does resolve to an article
      backstop = result.backstop || backstop; // may return a backstop
    }
    return result.art ? result.art : backstop; //@todo test logic of 'last valid backstop return' with several plugins at once
  }


//// Runs each updater in order. These are added by the plugins, below. 
//// Updaters change the current DOM state, eg to show a single article. 
 ,update = function (query) {
    for (var i=0, l=updaters.length, current=resolve(query); i<l; i++) {
      updaters[i](current);
    }
  }


//// Tidies the URL hash and runs `update()` when the URL hash changes. 
 ,onHashchange = function (event) {
    update( window.location.hash.substr(1).replace(/\//g,'_') );
    if (event) { event.preventDefault(); }
  }

;


//// Populate the `arts` array using data from Apage `<ARTICLE>` elements. 
//// Then, remove all 'data-apage-*' attributes except 'data-apage-dname'. 
for (i=0, l=$arts.length; i<l; i++) {
  $ref = $arts[i];
  arts.push({
    id:    $ref.getAttribute('id')
   ,opath: $ref.getAttribute('data-apage-opath')
   ,dname: $ref.getAttribute('data-apage-dname')
   ,order: $ref.getAttribute('data-apage-order')
   ,front: JSON.parse( $ref.getAttribute('data-apage-front') )
   ,title: $ref.getAttribute('data-apage-title')
   ,$ref:  $ref
  });
  unattribute($ref,'data-apage-','opath','order','front','title');
}


//// Begin injecting plugins. 

// Generated by CoffeeScript 1.9.2

/*! Apage 0.0.22 //// MIT Licence //// http://apage.richplastow.com/
 *  plugin/cross-browser.litcoffee
 */

(function() {
  $('style').innerHTML += "\n/* injected by Apage’s CrossBrowser plugin, and adapted from: */\n/* normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\n\n/* Document */\nhtml { font-family:sans-serif; -ms-text-size-adjust:100%; -webkit-text-size-adjust:100% }\nbody { margin:0 }\n\n/* HTML5 */\narticle,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,\nsection,summary { display:block }\naudio,canvas,progress,video { display:inline-block; vertical-align:baseline }\naudio:not([controls]) { display:none; height:0 }\n[hidden],template { display:none }\n\n/* Links */\na { background-color:transparent }\na:active,a:hover { outline:0 }\n\n/* Text */\nabbr[title] { border-bottom:1px dotted }\nb, strong { font-weight:bold }\ndfn { font-style:italic }\nh1 { font-size:2em; margin:0.67em 0 }\nmark { background:#ff0; color:#000 }\nsmall { font-size:80% }\nsub,sup { font-size:75%; line-height:0; position:relative; vertical-align:baseline }\nsup { top:-0.5em }\nsub { bottom:-0.25em }\n\n/* Embedded */\nimg { border:0 }\nsvg:not(:root) { overflow:hidden }\n\n/* Grouping */\nfigure { margin:1em 40px }\nhr { box-sizing:content-box; height:0 }\npre { overflow:auto }\ncode,kbd,pre,samp { font-family:monospace,monospace; font-size:1em }\n\n/* Forms */\nbutton,input,optgroup,select,textarea { color:inherit; font:inherit; margin:0 }\nbutton { overflow:visible }\nbutton,select { text-transform:none }\nbutton,html input[type=\"button\"],input[type=\"reset\"],\ninput[type=\"submit\"] { -webkit-appearance:button; cursor:pointer }\nbutton[disabled],html input[disabled] { cursor:default }\nbutton::-moz-focus-inner,input::-moz-focus-inner{ border:0; padding:0 }\ninput { line-height:normal }\ninput[type=\"checkbox\"],input[type=\"radio\"] { box-sizing:border-box; padding:0 }\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button { height:auto }\ninput[type=\"search\"] { -webkit-appearance:textfield; box-sizing:content-box }\ninput[type=\"search\"]::-webkit-search-cancel-button,\ninput[type=\"search\"]::-webkit-search-decoration { -webkit-appearance:none }\nfieldset { border:1px solid #c0c0c0; margin:0 2px; padding:0.35em 0.625em 0.75em }\nlegend { border:0; padding:0 }\ntextarea { overflow:auto }\noptgroup { font-weight:bold }\n\n/* Tables */\ntable { border-collapse:collapse; border-spacing:0 }\ntd,th { padding:0 }\n";

}).call(this);
// Generated by CoffeeScript 1.9.2

/*! Apage 0.0.22 //// MIT Licence //// http://apage.richplastow.com/
 *  plugin/pagination.litcoffee
 */

(function() {
  var $ref, art, i, len;

  $('style').innerHTML += "\n/* injected by Apage’s Pagination plugin */\narticle { display: none; }\narticle.active { display: block; }";

  $ref = document.createElement('article');

  $ref.setAttribute('class', 'apage');

  $ref.setAttribute('id', 'apage_undefined');

  $ref.innerHTML = "<!-- injected by Apage’s Pagination plugin -->\n<h1>Article Not Found</h1>";

  d.body.appendChild($ref);

  arts.push({
    id: 'undefined',
    opath: '',
    dname: '',
    order: 0,
    front: [],
    title: 'Article Not Found',
    $ref: $ref
  });

  for (i = 0, len = arts.length; i < len; i++) {
    art = arts[i];
    arts[art.id] = art;
  }

  arts['_'] = arts[0] || arts.undefined;

  resolvers.push(function(query) {
    if (!query) {
      return {
        art: arts[0]
      };
    }
    if (arts[query]) {
      return {
        art: arts[query]
      };
    }
    query = 'apage' + query;
    if (arts[query]) {
      return {
        art: arts[query]
      };
    }
    return {
      backstop: arts.undefined
    };
  });

  updaters.push(function(current) {
    var j, len1;
    for (j = 0, len1 = arts.length; j < len1; j++) {
      art = arts[j];
      art.$ref.className = art.$ref.className.replace(/\s*active|\s*$/g, '');
    }
    current.$ref.className += ' active';
    return d.title = current.title;
  });

}).call(this);
// Generated by CoffeeScript 1.9.2

/*! Tfmm 0.0.7 //// MIT Licence //// http://tfmm.loop.coop/ */

(function() {
  var Flourish, Maestro, Main, Timeline, Voice, VoiceSet, ª, ªA, ªB, ªE, ªF, ªI, ªN, ªO, ªR, ªS, ªU, ªV, ªX, ªclone, ªex, ªhas, ªpopulate, ªredefine, ªretrieve, ªtype, ªuid,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  ªI = 'Tfmm';

  ªV = '0.0.7';

  ªA = 'array';

  ªB = 'boolean';

  ªE = 'error';

  ªF = 'function';

  ªN = 'number';

  ªO = 'object';

  ªR = 'regexp';

  ªS = 'string';

  ªU = 'undefined';

  ªX = 'null';

  ª = console.log.bind(console);

  ªex = function(x, a, b) {
    var pos;
    if (-1 === (pos = a.indexOf(x))) {
      return x;
    } else {
      return b.charAt(pos);
    }
  };

  ªhas = function(h, n, t, f) {
    if (t == null) {
      t = true;
    }
    if (f == null) {
      f = false;
    }
    if (-1 !== h.indexOf(n)) {
      return t;
    } else {
      return f;
    }
  };

  ªtype = function(x) {
    return {}.toString.call(x).match(/\s([a-z|A-Z]+)/)[1].toLowerCase();
  };

  ªuid = function(p) {
    return p + '_' + (Math.random() + '1111111111111111').slice(2, 18);
  };

  ªredefine = function(obj, name, value, kind) {
    switch (kind) {
      case 'constant':
        return Object.defineProperty(obj, name, {
          value: value,
          enumerable: true
        });
      case 'private':
        return Object.defineProperty(obj, name, {
          value: value,
          enumerable: false
        });
    }
  };

  ªretrieve = function(instances, identifier) {
    var instance;
    instance = instances[identifier];
    if (!instance) {
      switch (typeof identifier) {
        case ªS:
          throw new Error("'" + identifier + "' does not exist");
          break;
        case ªN:
          throw new Error("`" + identifier + "` does not exist");
          break;
        case ªU:
          throw new Error("`identifier` is `undefined`");
          break;
        default:
          throw new Error("`identifier` is type '" + (ªtype(identifier)) + "'");
      }
    }
    return instance;
  };

  ªpopulate = function(candidate, subject, rules, updating) {
    var errors, j, key, l, len, len1, rule, test, type, use, value;
    if (ªO !== ªtype(candidate)) {
      throw new Error("`candidate` is type '" + (ªtype(candidate)) + "' not 'object'");
    }
    errors = [];
    for (j = 0, len = rules.length; j < len; j++) {
      rule = rules[j];
      key = rule[0], use = rule[1], type = rule[2], test = rule[3];
      value = candidate[key];
      if (void 0 === value) {
        if (updating || void 0 !== use) {
          continue;
        } else {
          errors.push("Missing field '" + key + "' is mandatory");
        }
      } else if (type !== ªtype(value)) {
        errors.push("Field '" + key + "' is type '" + (ªtype(value)) + "' not '" + type + "'");
      } else if (!test.test(value)) {
        errors.push("Field '" + key + "' is '" + value + "' which fails " + ('' + test));
      }
    }
    if (errors.length) {
      throw new Error(errors.join('\n'));
    }
    for (l = 0, len1 = rules.length; l < len1; l++) {
      rule = rules[l];
      key = rule[0], use = rule[1], type = rule[2], test = rule[3];
      value = candidate[key];
      if (void 0 === value) {
        if (void 0 === subject[key]) {
          if (ªA === ªtype(use)) {
            subject[key] = use[0].apply(this, use.slice(1));
          } else {
            subject[key] = use;
          }
        }
      } else {
        subject[key] = value;
      }
    }
  };

  ªclone = function(subject, rules) {
    var j, key, len, out, rule;
    out = {};
    for (j = 0, len = rules.length; j < len; j++) {
      rule = rules[j];
      key = ªS === typeof rule ? rule : rule[0];
      out[key] = subject[key];
    }
    return out;
  };

  Flourish = (function() {
    Flourish.prototype.C = 'Flourish';

    Flourish.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function Flourish(config) {
      if (config == null) {
        config = {};
      }
      this.start = config.start;
      this.duration = config.duration;
      this.velocity = config.velocity;
    }

    Flourish.prototype.render = function(now, context, size) {
      var pos, scale, thing;
      if (this.start + this.duration < now) {
        return;
      }
      if (this.start > now) {
        return;
      }
      thing = 1 - 1 / (this.duration / (now - this.start));
      scale = size * this.velocity * thing;
      pos = (size - scale) / 2;
      return context.fillRect(pos, pos, scale, scale);
    };

    return Flourish;

  })();

  Maestro = (function() {
    Maestro.prototype.C = 'Maestro';

    Maestro.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function Maestro(config) {
      if (config == null) {
        config = {};
      }
      this.step = bind(this.step, this);
      this.renderers = config.renderers || [];
      if (config.raf) {
        this.raf = config.raf.bind(this);
      } else {
        this.raf = window.requestAnimationFrame.bind(window);
      }
      this.prevFlip2000 = -1;
    }

    Maestro.prototype.start = function() {
      return this.raf(this.step);
    };

    Maestro.prototype.step = function(stamp) {
      var cue, currFlip2000, flip2000, flip8000, fn, j, len, ref, renderer;
      currFlip2000 = stamp % 2000;
      if (currFlip2000 >= this.prevFlip2000) {
        flip2000 = false;
      } else {
        flip2000 = true;
        if (currFlip2000 === stamp % 8000) {
          flip8000 = true;
        } else {
          flip8000 = false;
        }
      }
      this.prevFlip2000 = currFlip2000;
      cue = {
        stamp: stamp,
        flip2000: flip2000,
        flip8000: flip8000,
        frac2000: (stamp % 2000) / 2000,
        frac8000: (stamp % 8000) / 8000
      };
      ref = this.renderers;
      fn = function(renderer) {
        return renderer.render(cue);
      };
      for (j = 0, len = ref.length; j < len; j++) {
        renderer = ref[j];
        fn(renderer);
      }
      return this.raf(this.step);
    };

    return Maestro;

  })();

  Main = (function() {
    Main.prototype.C = ªI;

    Main.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function Main(config) {
      var $voiceSet, fn, j, len, ref;
      if (config == null) {
        config = {};
      }
      this.updater = bind(this.updater, this);
      this.active = null;
      this.arts = config.arts;
      this.$$voiceSets = config.$$voiceSets;
      this.voiceSets = this.initVoiceSets();
      this.maestro = new Maestro({
        renderers: this.voiceSets
      });
      this.maestro.start();
      window.addEventListener('keydown', (function(_this) {
        return function(event) {
          if (null === _this.active) {
            return;
          }
          if (81 === event.keyCode) {
            return _this.active.trigger(1);
          }
        };
      })(this));
      window.addEventListener('click', function() {
        return window.location.hash = '/';
      });
      ref = this.$$voiceSets;
      fn = function($voiceSet) {
        return $voiceSet.addEventListener('click', function(event) {
          if (-1 === this.className.indexOf('active')) {
            window.location.hash = this.id.substr(5).replace(/_/g, '/');
          } else {
            console.log(arts[this.id].voiceSet);
          }
          return event.stopPropagation();
        });
      };
      for (j = 0, len = ref.length; j < len; j++) {
        $voiceSet = ref[j];
        fn($voiceSet);
      }
    }

    Main.prototype.initVoiceSets = function() {
      var $voiceSet, j, len, ref, results;
      ref = this.$$voiceSets;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        $voiceSet = ref[j];
        results.push((function(_this) {
          return function($voiceSet) {
            var fn, front, k, l, len1, ref1, ref2, v;
            front = {};
            ref1 = _this.arts[$voiceSet.id].front;
            fn = function(k, v) {
              return front[k] = v;
            };
            for (l = 0, len1 = ref1.length; l < len1; l++) {
              ref2 = ref1[l], k = ref2[0], v = ref2[1];
              fn(k, v);
            }
            return _this.arts[$voiceSet.id].voiceSet = new VoiceSet({
              $voiceSet: $voiceSet,
              front: front
            });
          };
        })(this)($voiceSet));
      }
      return results;
    };

    Main.prototype.updater = function(current) {
      var j, len, ref, voiceSet;
      this.active = null;
      ref = this.voiceSets;
      for (j = 0, len = ref.length; j < len; j++) {
        voiceSet = ref[j];
        voiceSet.deactivate();
      }
      if (current.voiceSet) {
        this.active = current.voiceSet;
        return this.active.activate();
      }
    };

    return Main;

  })();

  Timeline = (function() {
    Timeline.prototype.C = 'Timeline';

    Timeline.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function Timeline(config) {
      if (config == null) {
        config = {};
      }
      this.flourishes = [];
      this.now = 0;
    }

    Timeline.prototype.add = function(velocity) {
      return this.flourishes.push(new Flourish({
        start: this.now,
        duration: 0.2,
        velocity: velocity
      }));
    };

    Timeline.prototype.render = function(frame, context, size) {
      var flourish, j, len, ref, results;
      this.now = frame.frac2000;
      ref = this.flourishes;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        flourish = ref[j];
        results.push(flourish.render(this.now, context, size));
      }
      return results;
    };

    Timeline.prototype.quieten = function(multiplier, threshold) {
      var flourish, i, results;
      i = this.flourishes.length;
      results = [];
      while (i--) {
        flourish = this.flourishes[i];
        flourish.velocity *= multiplier;
        if (threshold >= flourish.velocity) {
          results.push(this.flourishes.splice(i, 1));
        } else {
          results.push(void 0);
        }
      }
      return results;
    };

    return Timeline;

  })();

  VoiceSet = (function() {
    VoiceSet.prototype.C = 'VoiceSet';

    VoiceSet.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function VoiceSet(config) {
      var i;
      if (config == null) {
        config = {};
      }
      this.ID = config.$voiceSet.id;
      this.focus = 0;
      this.size = 32;
      this.points = config.front.points.split(/\s+/);
      this.colors = config.front.colors.split(/\s+/);
      this.samples = config.front.samples.split(/\s+/);
      if (5 < this.colors.length) {
        throw new Error("'" + this.ID + "' frontmatter contains " + this.colors.length + " colors");
      }
      if (this.samples.length !== this.colors.length) {
        throw new Error("'" + this.ID + "' frontmatter contains unequal colors and samples");
      }
      this.$canvas = document.createElement('canvas');
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      this.$canvas.setAttribute('class', 'visualizer');
      config.$voiceSet.appendChild(this.$canvas);
      this.visualizer = this.$canvas.getContext('2d');
      this.voices = [];
      i = this.colors.length;
      while (i--) {
        this.voices.push(new Voice({
          $voiceSet: config.$voiceSet,
          color: this.colors[i],
          sample: this.samples[i],
          visualizer: this.visualizer
        }));
      }
      this.voices[0].focus = true;
    }

    VoiceSet.prototype.activate = function() {
      var j, len, ref, results, voice;
      this.size = 256;
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      ref = this.voices;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        voice = ref[j];
        results.push(voice.activate());
      }
      return results;
    };

    VoiceSet.prototype.deactivate = function() {
      var j, len, ref, results, voice;
      this.size = 32;
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      ref = this.voices;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        voice = ref[j];
        results.push(voice.deactivate());
      }
      return results;
    };

    VoiceSet.prototype.render = function(frame) {
      var j, l, len, len1, len2, m, ref, ref1, ref2, voice;
      this.visualizer.clearRect(0, 0, this.size, this.size);
      if (frame.flip2000) {
        ref = this.voices;
        for (j = 0, len = ref.length; j < len; j++) {
          voice = ref[j];
          voice.hasFocus = false;
        }
        if (this.voices.length <= ++this.focus) {
          this.focus = 0;
        }
        this.voices[this.focus].hasFocus = true;
      }
      if (frame.flip8000) {
        ref1 = this.voices;
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          voice = ref1[l];
          voice.timeline.quieten(0.5, 0.1);
        }
      }
      ref2 = this.voices;
      for (m = 0, len2 = ref2.length; m < len2; m++) {
        voice = ref2[m];
        voice.render(frame, this.size);
      }
      this.visualizer.fillStyle = "rgba(0,100,0,.5)";
      return this.visualizer.fillRect(0, 0, frame.frac8000 * this.size, frame.frac8000 * this.size);
    };

    VoiceSet.prototype.trigger = function(velocity) {
      return this.voices[this.focus].timeline.add(velocity);
    };

    return VoiceSet;

  })();

  Voice = (function() {
    Voice.prototype.C = 'Voice';

    Voice.prototype.toString = function() {
      return "[object " + this.C + "]";
    };

    function Voice(config) {
      if (config == null) {
        config = {};
      }
      this.timeline = new Timeline;
      this.hasFocus = false;
      this.size = 8;
      this.$canvas = document.createElement('canvas');
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      this.$canvas.setAttribute('class', 'icon');
      config.$voiceSet.appendChild(this.$canvas);
      this.icon = this.$canvas.getContext('2d');
      this.visualizer = config.visualizer;
      this.color = this.icon.fillStyle = config.color;
      this.sample = config.sample;
    }

    Voice.prototype.activate = function() {
      this.size = 64;
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      return this.icon.fillStyle = this.color;
    };

    Voice.prototype.deactivate = function() {
      this.size = 8;
      this.$canvas.setAttribute('width', this.size + 'px');
      this.$canvas.setAttribute('height', this.size + 'px');
      return this.icon.fillStyle = this.color;
    };

    Voice.prototype.render = function(frame, visualizerSize) {
      var scaleMultiplier;
      scaleMultiplier = this.hasFocus ? 1 : 0.5;
      this.icon.clearRect(0, 0, this.size, this.size);
      this.drawSquare(this.icon, frame.frac8000 * scaleMultiplier, this.size);
      this.visualizer.fillStyle = this.color;
      return this.timeline.render(frame, this.visualizer, visualizerSize);
    };

    Voice.prototype.drawSquare = function(context, scale, size) {
      var pos;
      scale = size * scale;
      pos = (size - scale) / 2;
      return context.fillRect(pos, pos, scale, scale);
    };

    return Voice;

  })();

  if (ªF === typeof define && define.amd) {
    define(function() {
      return Main;
    });
  } else if (ªO === typeof module && module && module.exports) {
    module.exports = Main;
  } else {
    this[ªI] = Main;
  }

}).call(this);
// Generated by CoffeeScript 1.9.2

/*! Tfmm 0.0.7 //// MIT Licence //// http://tfmm.loop.coop/
 *  plugin/tfmm-app.litcoffee
 */

(function() {
  var tfmm;

  $('style').innerHTML += "\n/* injected by the TfmmApp plugin */\nbody {\n  overflow: hidden;\n  text-align: center;\n  background: #111;\n  color: #ccc;\n}\na {\n  color: #ccc;\n  text-decoration: none;\n  transition: all .5s;\n}\na:hover {\n  color: #f2f;\n}\narticle {\n  display: none;\n}\narticle.active,\n#apage_readme {\n  display: block;\n}\n#apage_readme h1 {\n  display: none;\n}\n#apage_readme li {\n  list-style-type: none;\n}\n#apage_readme h4 a,\n#apage_readme li a {\n  position: absolute;\n  z-index: 99;\n  padding: .5em;\n}\n#apage_readme h4 a {\n  top:    0;\n  right:  0;\n}\n#apage_readme li a[href=\"http://loop.coop\"] {\n  top:    0;\n  left:   0;\n}\n#apage_readme li a[href*=\"www.facebook.com\"] {\n  bottom: 0;\n  left:   0;\n}\n#apage_readme li a[href*=\"twitter.com\"] {\n  bottom: 0;\n  left:   100px;\n}\n#apage_readme li a[href$=\"documentation\"] {\n  bottom: 0;\n  right:  0;\n}\n\narticle[data-apage-dname=\"_doc_\"] {\n  position: absolute;\n  z-index: 99;\n  top:    15%;\n  right:  20%;\n  bottom: 20%;\n  left:   20%;\n  overflow-y: scroll;\n  text-align: left;\n  border: 4px solid cyan; \n}\n\narticle[data-apage-dname=\"_voice-set_\"] {\n  position: relative;\n  z-index: 55;\n  display: inline-block;\n  vertical-align: top;\n  width: 4em;\n  height: 4em;\n  cursor: pointer;\n  border: 4px solid magenta;\n  transition: all .5s;\n}\narticle[data-apage-dname=\"_voice-set_\"].active {\n  border: 4px solid orange;\n  width: 40em;\n  height: 40em;\n}\narticle[data-apage-dname=\"_voice-set_\"] canvas.visualizer {\n  width: 100%;\n  height: 100%;\n}\narticle[data-apage-dname=\"_voice-set_\"] h1,\narticle[data-apage-dname=\"_voice-set_\"] p {\n  position: absolute;\n  transition: all .5s;\n}\narticle[data-apage-dname=\"_voice-set_\"] h1 {\n  margin-top: 0;\n  font-size: 8px;\n}\narticle[data-apage-dname=\"_voice-set_\"] p {\n  margin-top: 2em;\n  font-size: 4px;\n}\narticle[data-apage-dname=\"_voice-set_\"].active h1 {\n  font-size: 80px;\n}\narticle[data-apage-dname=\"_voice-set_\"].active p {\n  font-size: 40px;\n}\narticle[data-apage-dname=\"_voice-set_\"] canvas.icon {\n  display: inline-block;\n  margin:  -1em .1em 0 .1em;\n  width:  .5em;\n  height: .5em;\n  transition: all .5s;\n}\narticle[data-apage-dname=\"_voice-set_\"].active canvas.icon {\n  margin:  -10em 1em 0 1em;\n  width:   5em;\n  height:  5em;\n}";

  tfmm = new Tfmm({
    arts: arts,
    $$voiceSets: $$('article[data-apage-dname="_voice-set_"]')
  });

  updaters.push(tfmm.updater);

}).call(this);

//// End injecting plugins. 


//// Run each updater when the page loads, and when the URL hash changes. 
onHashchange();
window.addEventListener('hashchange', onHashchange);


}).call(this, document) });

  </script>

</head>
<body>

  <article id="apage_readme"
        class="apage"
  data-apage-opath="/README.md"
  data-apage-dname="_"
  data-apage-order="-1"
  data-apage-front='[]'
  data-apage-title="Tfmm">
  <h1>Tfmm</h1>
  <h4><a href="">Touchy Feely Music Makey</a></h4>
  <ul>
  <li><a href="http://loop.coop">Loop.Coop</a></li>
  <li><a href="https://www.facebook.com/loopdotcoop">Facebook</a></li>
  <li><a href="https://twitter.com/loopdotcoop">Twitter</a></li>
  <li><a href="#/doc/documentation">Documentation</a></li>
  </ul>
  
  </article><!-- / #apage_readme -->


  <article id="apage_doc_documentation"
        class="apage"
  data-apage-opath="/doc/00-documentation.md"
  data-apage-dname="_doc_"
  data-apage-order="0"
  data-apage-front='[]'
  data-apage-title="Documentation">
  <h1>Documentation</h1>
  <ul>
  <li><a href="">Home</a></li>
  <li><a href="test/run-test.html">Test</a></li>
  <li><a href="https://github.com/loopdotcoop/tfmm">Fork Tfmm on GitHub</a></li>
  <li><a href="#/doc/installing-tfmm">Installing Tfmm</a></li>
  <li><a href="#/doc/testing-tfmm">Testing Tfmm</a></li>
  <li><a href="#/doc/installing-build-tools">Installing Build Tools</a></li>
  <li><a href="#/doc/the-build-process">The Build Process</a></li>
  <li><a href="#/doc/handy-scripts">Handy Scripts</a></li>
  </ul>
  <p>Welcome to the Touchy Feely Music Makey Microsite. @todo add description here</p>
  
  </article><!-- / #apage_doc_documentation -->


  <article id="apage_doc_installing-tfmm"
        class="apage"
  data-apage-opath="/doc/01-installing-tfmm.md"
  data-apage-dname="_doc_"
  data-apage-order="1"
  data-apage-front='[]'
  data-apage-title="Installing Tfmm">
  <h1>Installing Tfmm</h1>
  <p>Old fashioned browser install, providing <code>window.Tfmm</code>: </p>
  <pre><code class="lang-html">&lt;script src=&quot;http://tfmm.loop.coop/build/tfmm.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;console.log( new window.Tfmm().I ); // -&gt; &#39;Tfmm&#39;&lt;/script&gt;
  </code></pre>
  <p>Install as a <a href="http://goo.gl/ZrbaB0">CommonJS Module</a>, eg for 
  <a href="https://nodejs.org/">Node</a>: </p>
  <pre><code class="lang-javascript">var Tfmm = require(&#39;tfmm&#39;);
  console.log( new Tfmm().I ); // -&gt; &#39;Tfmm&#39;
  </code></pre>
  <p>Install using <a href="http://goo.gl/mp7Snw">RequireJS inline-style</a>, providing <code>Tfmm</code> 
  as an argument: </p>
  <pre><code class="lang-html">&lt;script src=&quot;lib/require.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    require([&#39;path/to/tfmm&#39;], function(Tfmm) {
      console.log( new Tfmm().I ); // -&gt; &#39;Tfmm&#39;
    })
  &lt;/script&gt;
  </code></pre>
  <p>@todo more installation examples</p>
  
  </article><!-- / #apage_doc_installing-tfmm -->


  <article id="apage_voice-set_frankie"
        class="apage"
  data-apage-opath="/voice-set/01-frankie.md"
  data-apage-dname="_voice-set_"
  data-apage-order="1"
  data-apage-front='[["points","1 2  3 4  5 6  7 8"],["colors","red           green         cyan"],["samples","01-frankie-1  01-frankie-2  01-frankie-3"]]'
  data-apage-title="Frankie">
  <h1>Frankie</h1>
  <p>Lorem Ipsum</p>
  
  </article><!-- / #apage_voice-set_frankie -->


  <article id="apage_doc_testing-tfmm"
        class="apage"
  data-apage-opath="/doc/02-testing-tfmm.md"
  data-apage-dname="_doc_"
  data-apage-order="2"
  data-apage-front='[]'
  data-apage-title="Testing Tfmm">
  <h1>Testing Tfmm</h1>
  <p>Test with <a href="http://goo.gl/UYupZI">npm run-scripts</a> on the command line: </p>
  <pre><code class="lang-bash">npm test
  </code></pre>
  <p>Test on the client:<br>Open <a href="test/run-test.html">test/run-test.html</a> in 
  a web browser</p>
  
  </article><!-- / #apage_doc_testing-tfmm -->


  <article id="apage_voice-set_jenny"
        class="apage"
  data-apage-opath="/voice-set/02-jenny.md"
  data-apage-dname="_voice-set_"
  data-apage-order="2"
  data-apage-front='[["points","1 2  3 4  3 8  1 7"],["colors","pink          yellow        grey          orange        yellow"],["samples","01-frankie-1  01-frankie-2  01-frankie-3  01-frankie-1  01-frankie-2"]]'
  data-apage-title="Jenny">
  <h1>Jenny</h1>
  <p>This is a test article.</p>
  
  </article><!-- / #apage_voice-set_jenny -->


  <article id="apage_doc_installing-build-tools"
        class="apage"
  data-apage-opath="/doc/03-installing-build-tools.md"
  data-apage-dname="_doc_"
  data-apage-order="3"
  data-apage-front='[]'
  data-apage-title="Installing Build Tools">
  <h1>Installing Build Tools</h1>
  <p>The following modules are listed in the <code>&quot;devDependencies&quot;</code> field of 
  ‘package.json’, so running <code>npm install</code> will install them in the local 
  ‘node_modules’ directory. However, you may find it useful to install them 
  globally on your machine, in which case the <code>-g</code> flag is your friend: </p>
  <p>Install <a href="http://coffeescript.org/">coffee</a> 1.9.2 on the command line: </p>
  <pre><code class="lang-bash">npm install -g coffee-script
  </code></pre>
  <p>Install <a href="http://nodemon.io/">nodemon</a> 1.3.7: </p>
  <pre><code class="lang-bash">npm install -g nodemon
  </code></pre>
  
  </article><!-- / #apage_doc_installing-build-tools -->


  <article id="apage_voice-set_krum"
        class="apage"
  data-apage-opath="/voice-set/03-krum.md"
  data-apage-dname="_voice-set_"
  data-apage-order="3"
  data-apage-front='[["points","5 6  2 3"],["colors","purple        yellow"],["samples","01-frankie-1  01-frankie-2"]]'
  data-apage-title="Krum">
  <h1>Krum</h1>
  <p>Hi!</p>
  
  </article><!-- / #apage_voice-set_krum -->


  <article id="apage_doc_the-build-process"
        class="apage"
  data-apage-opath="/doc/04-the-build-process.md"
  data-apage-dname="_doc_"
  data-apage-order="4"
  data-apage-front='[]'
  data-apage-title="The Build Process">
  <h1>The Build Process</h1>
  <h4>Build Tfmm on the command line</h4>
  <pre><code class="lang-bash">npm run build
  </code></pre>
  <p>@todo discussion of the limitations of file-watching.</p>
  
  </article><!-- / #apage_doc_the-build-process -->


  <article id="apage_voice-set_bettie"
        class="apage"
  data-apage-opath="/voice-set/04-bettie.md"
  data-apage-dname="_voice-set_"
  data-apage-order="4"
  data-apage-front='[["points","5 6  2 3"],["colors","green         orange        gold"],["samples","01-frankie-1  01-frankie-2  01-frankie-3"]]'
  data-apage-title="Bettie">
  <h1>Bettie</h1>
  <p>It is a thing!</p>
  
  </article><!-- / #apage_voice-set_bettie -->


  <article id="apage_doc_handy-scripts"
        class="apage"
  data-apage-opath="/doc/05-handy-scripts.md"
  data-apage-dname="_doc_"
  data-apage-order="5"
  data-apage-front='[]'
  data-apage-title="Handy Scripts">
  <h1>Handy Scripts</h1>
  <h4><code>hi</code></h4>
  <p>Opens up four useful project windows, saving you a few precious seconds at the 
  start of a development session. You will need Sublime Text installed, and a 
  symlink to its <code>subl</code> binary <a href="http://goo.gl/wJqkjY">added to your PATH</a>.<br>@todo cross-platform, eg <code>xdg-open</code> (*nix) and <code>start</code> (win)</p>
  <pre><code class="lang-bash">npm run hi
  </code></pre>
  <p>Which runs: </p>
  <pre><code class="lang-bash">open .; open index.html; open test/run-test.html; subl .
  </code></pre>
  <p>Which means: </p>
  <ol>
  <li>Open the present working directory. On OS X, this opens a Finder window</li>
  <li>Open the project’s local homepage using the default browser</li>
  <li>Open the client-side test page using the default browser</li>
  <li>Open the project in Sublime Text</li>
  </ol>
  <h4><code>v:list</code></h4>
  <p>Shows a list of files which contain the <code>version</code> string from ‘package.json’. 
  Each filename is suffixed by a colon, followed by the line-number where the 
  version string appears, eg <code>README.md:1 package.json:4</code>. </p>
  <pre><code class="lang-bash">npm run v:list
  </code></pre>
  <p>Which runs: </p>
  <pre><code class="lang-bash">grep -ron $npm_package_version {bin,src,*.json} | awk 1 ORS=&#39; &#39; | sed &quot;s@:$npm_package_version@@g&quot;
  </code></pre>
  <p>Or verbosely: </p>
  <pre><code class="lang-bash">grep --recursive --only-matching --line-number $npm_package_version \\
  {bin,src,*.json} \\
  | \\
  awk 1 ORS=&#39; &#39; \\
  | \\
  sed &quot;s@:$npm_package_version@@g&quot;
  </code></pre>
  <p>Which means: </p>
  <ol>
  <li>Use <code>grep</code> to get a newline-delimited list of files which contain the 
  <code>version</code> string from ‘package.json’<ul>
  <li><code>--recursive</code> search in subdirectories</li>
  <li><code>--only-matching</code> don’t show leading/trailing context in the results</li>
  <li><code>--line-number</code> included after a colon, eg <code>bower.json:3</code></li>
  </ul>
  </li>
  <li>Search in bin/, src/, package.json, bower.json, etc</li>
  <li>Pipe the list to <code>awk</code></li>
  <li><a href="http://goo.gl/1WNas5">Convert all newlines to spaces</a></li>
  <li>Pipe the list to <code>sed</code></li>
  <li>Delete the trailing colon and version from each filename, eg <code>:1.2.3-4</code></li>
  </ol>
  <h4><code>v:open</code></h4>
  <p>Opens a list of files which contain the <code>version</code> string from ‘package.json’ in 
  Sublime Text. You will need Sublime Text installed, and a symlink to its <code>subl</code> 
  binary <a href="http://goo.gl/wJqkjY">added to your PATH</a>. </p>
  <pre><code class="lang-bash">npm run v:open
  </code></pre>
  <p>Which runs: </p>
  <pre><code class="lang-bash">subl $(npm run v:list --loglevel silent)
  </code></pre>
  <p>Note <code>--loglevel silent</code>, which prevents <code>subl</code> from being sent the results-log 
  which <code>npm run</code> usually outputs.</p>
  
  </article><!-- / #apage_doc_handy-scripts -->


  <!-- ‘Inspect Element’ here, for Apage’s injected elements -->

</body>
</html>